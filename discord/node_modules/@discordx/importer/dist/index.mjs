// src/index.ts
import { glob } from "glob";
import path from "path";
import { fileURLToPath } from "url";
function isESM() {
  return import.meta.url ? true : false;
}
function dirname(url) {
  return path.dirname(fileURLToPath(url));
}
async function resolve(...paths) {
  const imports = [];
  await Promise.all(
    paths.map(async (ps) => {
      const files = await glob(ps.split(path.sep).join("/"));
      files.forEach((file) => {
        if (!imports.includes(file)) {
          imports.push(`file://${file}`);
        }
      });
    })
  );
  return imports;
}
async function importx(...paths) {
  const files = await resolve(...paths);
  await Promise.all(files.map((file) => import(file)));
}
export {
  dirname,
  importx,
  isESM,
  resolve
};
